<?php 
function romajiToHiragana($romaji) {
    // $hold = $hold.replace(/tsu/g, "つ"); 
    // $romaji = str_replace("tsu","つ",$hold);
    $romaji = str_replace("tsu", "つ",$romaji); 
    $romaji = str_replace("kya", "きゃ",$romaji);
    $romaji = str_replace("kyu", "きゅ",$romaji);
    $romaji = str_replace("kyo", "きょ",$romaji);
    $romaji = str_replace("sha", "しゃ",$romaji);
    $romaji = str_replace("shi", "し",$romaji); 
    $romaji = str_replace("shu", "しゅ",$romaji); 
    $romaji = str_replace("sho", "しょ",$romaji);
    $romaji = str_replace("chi", "ち",$romaji); 
    $romaji = str_replace("cha", "ちゃ",$romaji); 
    $romaji = str_replace("chu", "ちゅ",$romaji); 
    $romaji = str_replace("cho", "ちょ",$romaji); 
    $romaji = str_replace("hya", "ひゃ",$romaji);
    $romaji = str_replace("hyu", "ひゅ",$romaji);
    $romaji = str_replace("hyo", "ひょ",$romaji);
    $romaji = str_replace("rya", "りゃ",$romaji);
    $romaji = str_replace("ryu", "りゅ",$romaji);
    $romaji = str_replace("ryo", "りょ",$romaji);
    $romaji = str_replace("gya", "ぎゃ",$romaji);
    $romaji = str_replace("gyu", "ぎゅ",$romaji);
    $romaji = str_replace("gyo", "ぎょ",$romaji);
    $romaji = str_replace("bya", "びゃ",$romaji);
    $romaji = str_replace("byu", "びゅ",$romaji);
    $romaji = str_replace("byo", "びょ",$romaji);
    $romaji = str_replace("pya", "ぴゃ",$romaji);
    $romaji = str_replace("pyu", "ぴゅ",$romaji);
    $romaji = str_replace("pyo", "ぴょ",$romaji);
    $romaji = str_replace("ja", "じゃ",$romaji);
    $romaji = str_replace("ju", "じゅ",$romaji);
    $romaji = str_replace("jo", "じょ",$romaji);
    $romaji = str_replace("ba", "ば",$romaji); 
    $romaji = str_replace("da", "だ",$romaji); 
    $romaji = str_replace("ga", "が",$romaji); 
    $romaji = str_replace("ha", "は",$romaji); 
    $romaji = str_replace("ka", "か",$romaji); 
    $romaji = str_replace("ma", "ま",$romaji); 
    $romaji = str_replace("pa", "ぱ",$romaji); 
    $romaji = str_replace("ra", "ら",$romaji); 
    $romaji = str_replace("sa", "さ",$romaji); 
    $romaji = str_replace("ta", "た",$romaji); 
    $romaji = str_replace("wa", "わ",$romaji); 
    $romaji = str_replace("ya", "や",$romaji); 
    $romaji = str_replace("za", "ざ",$romaji);
    $romaji = str_replace("na", "な",$romaji); 
    $romaji = str_replace("a", "あ",$romaji); 
    $romaji = str_replace("be", "べ",$romaji); 
    $romaji = str_replace("de", "で",$romaji); 
    $romaji = str_replace("ge", "げ",$romaji); 
    $romaji = str_replace("he", "へ",$romaji); 
    $romaji = str_replace("ke", "け",$romaji); 
    $romaji = str_replace("me", "め",$romaji); 
    $romaji = str_replace("pe", "ぺ",$romaji); 
    $romaji = str_replace("re", "れ",$romaji); 
    $romaji = str_replace("se", "せ",$romaji); 
    $romaji = str_replace("te", "て",$romaji); 
    $romaji = str_replace("ze", "ぜ",$romaji); 
    $romaji = str_replace("ne", "ね",$romaji);
    $romaji = str_replace("e", "え",$romaji);
    $romaji = str_replace("bi", "び",$romaji); 
    $romaji = str_replace("gi", "ぎ",$romaji); 
    $romaji = str_replace("hi", "ひ",$romaji); 
    $romaji = str_replace("ki", "き",$romaji); 
    $romaji = str_replace("mi", "み",$romaji); 
    $romaji = str_replace("pi", "ぴ",$romaji); 
    $romaji = str_replace("ri", "り",$romaji); 
    $romaji = str_replace("ji", "じ",$romaji); 
    $romaji = str_replace("ni", "に",$romaji); 
    $romaji = str_replace("i", "い",$romaji);
    $romaji = str_replace("bo", "ぼ",$romaji); 
    $romaji = str_replace("do", "ど",$romaji); 
    $romaji = str_replace("go", "ご",$romaji); 
    $romaji = str_replace("ho", "ほ",$romaji); 
    $romaji = str_replace("ko", "こ",$romaji); 
    $romaji = str_replace("mo", "も",$romaji); 
    $romaji = str_replace("po", "ぽ",$romaji); 
    $romaji = str_replace("ro", "ろ",$romaji); 
    $romaji = str_replace("so", "そ",$romaji); 
    $romaji = str_replace("to", "と",$romaji); 
    $romaji = str_replace("wo", "を",$romaji); 
    $romaji = str_replace("yo", "よ",$romaji); 
    $romaji = str_replace("zo", "ぞ",$romaji); 
    $romaji = str_replace("no", "の",$romaji);
    $romaji = str_replace("o", "お",$romaji); 
    $romaji = str_replace("bu", "ぶ",$romaji); 
    $romaji = str_replace("gu", "ぐ",$romaji); 
    $romaji = str_replace("fu", "ふ",$romaji); 
    $romaji = str_replace("ku", "く",$romaji); 
    $romaji = str_replace("mu", "む",$romaji); 
    $romaji = str_replace("pu", "ぷ",$romaji); 
    $romaji = str_replace("ru", "る",$romaji); 
    $romaji = str_replace("su", "す",$romaji); 
    $romaji = str_replace("yu", "ゆ",$romaji); 
    $romaji = str_replace("zu", "ず",$romaji);
    $romaji = str_replace("nu", "ぬ",$romaji);
    $romaji = str_replace("u", "う",$romaji);
    $romaji = str_replace("n", "ん",$romaji);
    return $romaji;
}

$sample = "naguru!";
echo romajiToHiragana($sample);